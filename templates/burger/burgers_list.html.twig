{% include '_header.html.twig' %}
{% include 'base.html.twig' %}

<h2>{% block title %}Liste des Burgers{% endblock %}</h2>

{% block body %}
{% block content %}

<div class="sauce-flex">
    <div class="sauce-form">
        {{ form_start(form) }}
            {{ form_row(form.name) }}
            {{ form_row(form.price) }}
            {{ form_row(form.pain) }}
            {{ form_row(form.oignon) }}
            {{ form_row(form.sauce) }}
            {{ form_row(form.image) }}
            <button type="submit" class="btn btn-primary">Enregistrer</button>
        {{ form_end(form) }}
    </div>
    <div class="sauce-list">
        <ul>
        {% for burger in burgers %}
            <li style="display: flex; align-items: flex-start; justify-content: space-between;">
                <span><strong>{{ burger.name }}</strong></span>
                <span style="text-align: right; margin-left: 40px; font-size:0.95em; color:#7a5c00; min-width: 220px;">
                    Prix : {{ burger.price|number_format(2, ',', ' ') }} €<br>
                    Pain : {{ burger.pain ? burger.pain.name : '—' }}<br>
                    Oignons :
                    {% if burger.oignon|length > 0 %}
                        {{ burger.oignon|map(o => o.name)|join(', ') }}
                    {% else %}
                        —
                    {% endif %}<br>
                    Sauces :
                    {% if burger.sauce|length > 0 %}
                        {{ burger.sauce|map(s => s.name)|join(', ') }}
                    {% else %}
                        —
                    {% endif %}
                </span>
            </li>
        {% endfor %}
        </ul>
    </div>
</div>

{% endblock %}
{% endblock %}

{% include '_footer.html.twig' %}